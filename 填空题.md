# 填空题

## 变量提升问题

### 答案：① undefined ② Uncaught ReferenceError:Cannot access 'age' before initialization
```
function sayHi(){
    console.log(name);
    console.log(age);
    var name="Lydia";
    let age=21;
}
sayHi()
```

### 答案：① 2 ② 2 ③ Uncaught TypeError:fun is not a function
```
    function fun(){console.log(1)};
    fun();
    function fun(){console.log(2)};
    fun();
    var fun=100;
    fun();
```

### 答案：① function a(){} ② 2
```
    function fn(a){
        console.log(a);
        var a=2;
        function a(){};
        console.log(a);
    }
    fn(1);
```
### 答案：① function a(){} ② 50 
```
    {
        function a(){};
        a=50;
    }
    console.log(a);
    {
        b=50;
        function b(){};
    }
    console.log(b);
```

### 答案：① 10 ② Uncaught ReferenceError:b is not defined ③ 不执行
```
    var f=true;
    if(f===true){
        var a=10;
    }    

    function fn(){
        var b=20;
        c=30;
    }

    fn();
    console.log(a);
    console.log(b);
    console.log(c);
```

## 变量隐式声明

### 答案：10
```
    if('a' in window){
        var a=10;
    }

    alert(a);
```

## 包装类型

### 答案：① NaN ② undefinedhello
```
   var a=10;
   a.pro=10;
   console.log(a.pro+a);

   var a='hello';
   a.pro='world';
   console.log(a.pro+a); 
```

## 类定义问题

### 答案：Uncaught TypeError: newColor is not defined
```
class Chameleon{
    static colorChange(newColor){
        this.newColor=newColor;
    }
    constructor({newColor="green"}={}){
        this.newColor=newColor;
    }
}
const freddie=new Chameleon({newColor:"purple"});
freddie.colorChange("orange")
```

## EventLoop问题

### 答案：① 2 ② 6 ③ 5 ④ 3 ⑤ 4 ⑥ 1
```
setTimeout(function(){console.log(1)},0)

new Promise(function(resolve,reject){
    console.log(2);
    resolve();
})
.then(function(){console.log(3)})
.then(function(){console.log(4)})

process.nextTick(function(){console.log(5)});

console.log(6)
```

### 答案：A B
```
    var p3=new Promise(function(resolve,reject){
        resolve('B');
    });

    var p1=new Promise(function(resolve,reject){
        resolve(p3);
    });

    p2=new Promise(function(resolve,reject){
        resolve('A');
    });

    p1.then(function(v){
        console.log(v);
    });

    p2.then(function(v){
        console.log(v);
    });
```

### 答案：2 1
```
    setTimeout(()=>{
        console.log(1);
    });

    new Promise((resolve,reject)=>{
        resolve();
    }).then(()=>{
        console.log(2);
    });
```

### 答案：10 20
```
    function *generator(i){
        yield i;
        yield i*2;
    }
    const gen=generator(10);
    
    console.log(gen.next().value);
    console.log(gen.next().value);
```

### 答案： "two"
```
    const firstPromise=new Promise((res,rej)=>{
        setTimeout(res,500,'one')
    });

    const secondPromise=new Promise((res,rej)=>{
        setTimeout(res,100,'two')
    });

    Promise.race([firstPromise,secondPromise]).then(res=>console.log(res))
```

### 答案：① script start ② async1 start1 ③ async2 ④ promise1 ⑤ script end ⑥ async1 end ⑦ promise2 ⑧ setTimeout
```
async function async1(){
    console.log('async1 start1');
    await async2()
    console.log('async1 end');
}
async function async2(){
    console.log('async2')
}
console.log('script start');
setTimeout(function(){
    console.log('setTimeout')
},0)
async1();
new Promise(function(resolve){
    console.log('promise1')
    resolve()
}).then(function(){
    console.log('promise2')
})
console.log('script end');
```

## this指向

### 答案：浏览器端：undefined node端：TypeError:this.bar is not a function(node运行时没有window的全局环境)
```
    function foo(){
        var a=2;
        this.bar();
    }

    function bar(){
        console.log(this.a)
    }

    foo();
```

### 答案：① 2 ② TypeError: Cannot read property 'a' of undefined ③ node端：undefined 浏览器端：2
```
    function foo(){
        console.log(this.a)
    }

    var a=2;

    foo();
```

```
    function foo(){
        "use strict"
        console.log(this.a);
    }

    var a=2;

    foo();
```

```
    function foo(){
        console.log(this.a)
    }

    var a=2;

    (function(){
        "use strict"
        foo()
    })();
```

### 答案：① 2 ② 4 ③ node端：undefined 浏览器端：oops,global ④ oops,global ⑤ node端：undefined 浏览器端：oops,global
```
    function foo(){
        console.log(this.a);
    }

    var obj={
        a:2,
        foo:foo
    }

    obj.foo();
```

```
    function foo(){
        console.log(this.a);
    }

    var obj2={
        a:4,
        foo:foo
    }

    var obj1={
        a:2,
        obj2:obj2
    };

    obj1.obj2.foo()
```

```
    function foo(){
        console.log(this.a);
    }

    var obj={
        a:2,
        foo:foo
    }

    var bar=obj.foo;

    var a='oops,global';

    bar();
```

```
    function foo(){
        console.log(a)
    }

    function doFoo(fn){
        fn();
    }

    var obj={
        a:2,
        foo:foo
    }

    var a='oops,global';

    doFoo(obj.foo);
```

```
    function foo(){
        console.log(this.a)
    }

    var obj={
        a:2,
        foo:foo
    }

    var a='oops,global';
    setTimeout(obj.foo,100);
```

### 答案：只有浏览器端：2 2 2
```
    function foo(){
        console.log(this.a)
    }

    var obj={
        a:2
    }

    var bar=function(){
        foo.call(obj)
    }

    bar();
    setTimeout(bar,100);
    bar.call(window);
```

### 答案：3 2
```
    function foo(){
        console.log(this.a)
    }

    var a=2;
    var o={a:3,foo:foo};
    var p={a:4};
    
    o.foo();
    (p.foo=o.foo)();
```

### 答案：2
```
    function foo(){
        return (a)=>{
            console.log(this.a)
        }
    }

    var obj1={
        a:2
    }

    var obj2={
        a:3
    }

    var bar=foo.call(obj1);
    bar.call(obj2)
```

### 答案：① 20 ② 浏览器端：10 node端：undefined
```
    var a=10;
    var obj={
        a:20,
        intr:function(){
            var a=30;
            console.log(this.a);
        }
    }
    obj.intr();
    var intr=obj.intr;
    intr();
```

### 答案：① 浏览器端：10 node端：undefined ② 2
```
    var length=10;
    function fn(){
        console.log(this.length);
    }

    var obj={
        length:5,
        method:function(fn){
            fn();
            arguments[0]();
        }
    };

    obj.method(fn,1);
```

### 答案：division element
```
    function JSClass(){
        this.m_Text='division element';
        this.m_Element=document.createElement('div');
        this.m_Element.innerHTML=this.m_Text;
        this.m_Element.addEventListener('click',this.func);
    }

    JSClass.prototype.Render=function(){
        document.body.appendChild(this.m_Element);
    }

    JSClass.prototype.func=function(){
        alert(this.m_Text);
    }

    var jc=new JSClass();
    jc.Render();
    jc.func();
```

## 数组相关

### 答案：3
```
    var myArray=['foo',42,'bar'];
    myArray.baz='baz';
    console.log(myArray.length);
```

## 原型链

### 答案：true true true
```
    console.log(Object instanceof Function);
    console.log(Function instanceof Object);
    console.log(Function instanceof Function)
```

## 类型转换

### 答案：① 18 ② 0 ③ 8 ④ 250 ⑤ 15 ⑥ 2 ⑦ '[object Object]' ⑧ 0 
```
    写出下面操作的输出结果：
    ① parseInt(1/0,19);
    ② parseInt(0.000008);
    ③ parseInt(0.0000008);
    ④ parseInt(false,16);
    ⑤ parseInt(function(){},16);
    ⑥ parseInt("103",2);
```

### 答案：全是true
```
    判断true还是false
    ① false == [];
    ② "" == [];
    ③ 0 == [];
    ④ [] == ![];
    ⑤ 2 == [2];
    ⑥ "" == [null];
    ⑦ 0 == "\n";
    ⑧ {b:42} >= {b:43};
```

## 闭包

### 答案：① 0 ② 1 ③ 2
```
    var funs=[];
    for(var i=0;i<3;i++){
        funs[i]=(function(i){
            return function(){
                console.log(i)
            }
        })(i)
    }
    funs[0]();
    funs[1]();
    funs[2]();
```

### 答案：① 3 ② 3 ③ 3
```
    function fun(){
        for(var i=0,arr=[];i<3;i++){
            arr[i]=function(){
                console.log(i)
            }
        }
        return arr;
    }
    var funs=fun();
    funs[0]();
    funs[1]();
    funs[2]();
```
