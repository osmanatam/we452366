# 填空题

## 变量提升问题

### 答案：① undefined ② Uncaught ReferenceError:Cannot access 'age' before initialization
```
function sayHi(){
    console.log(name);
    console.log(age);
    var name="Lydia";
    let age=21;
}
sayHi()
```

### 答案：① 2 ② 2 ③ Uncaught TypeError:fun is not a function
```
    function fun(){console.log(1)};
    fun();
    function fun(){console.log(2)};
    fun();
    var fun=100;
    fun();

```

## 类定义问题

### 答案：Uncaught TypeError: newColor is not defined
```
class Chameleon{
    static colorChange(newColor){
        this.newColor=newColor;
    }
    constructor({newColor="green"}={}){
        this.newColor=newColor;
    }
}
const freddie=new Chameleon({newColor:"purple"});
freddie.colorChange("orange")
```

## EventLoop问题

### 答案：① 2 ② 6 ③ 5 ④ 3 ⑤ 4 ⑥ 1
```
setTimeout(function(){console.log(1)},0)

new Promise(function(resolve,reject){
    console.log(2);
    resolve();
})
.then(function(){console.log(3)})
.then(function(){console.log(4)})

process.nextTick(function(){console.log(5)});

console.log(6)
```

## this指向

### 答案：浏览器端：undefined node端：TypeError:this.bar is not a function(node运行时没有window的全局环境)
```
    function foo(){
        var a=2;
        this.bar();
    }

    function bar(){
        console.log(this.a)
    }

    foo();
```

### 答案：① 2 ② TypeError: Cannot read property 'a' of undefined ③ node端：undefined 浏览器端：2
```
    function foo(){
        console.log(this.a)
    }

    var a=2;

    foo();
```

```
    function foo(){
        "use strict"
        console.log(this.a);
    }

    var a=2;

    foo();
```

```
    function foo(){
        console.log(this.a)
    }

    var a=2;

    (function(){
        "use strict"
        foo()
    })();
```

### 答案：① 2 ② 4 ③ node端：undefined 浏览器端：oops,global ④ oops,global ⑤ node端：undefined 浏览器端：oops,global
```
    function foo(){
        console.log(this.a);
    }

    var obj={
        a:2,
        foo:foo
    }

    obj.foo();
```

```
    function foo(){
        console.log(this.a);
    }

    var obj2={
        a:4,
        foo:foo
    }

    var obj1={
        a:2,
        obj2:obj2
    };

    obj1.obj2.foo()
```

```
    function foo(){
        console.log(this.a);
    }

    var obj={
        a:2,
        foo:foo
    }

    var bar=obj.foo;

    var a='oops,global';

    bar();
```

```
    function foo(){
        console.log(a)
    }

    function doFoo(fn){
        fn();
    }

    var obj={
        a:2,
        foo:foo
    }

    var a='oops,global';

    doFoo(obj.foo);
```

```
    function foo(){
        console.log(this.a)
    }

    var obj={
        a:2,
        foo:foo
    }

    var a='oops,global';
    setTimeout(obj.foo,100);
```

### 答案：只有浏览器端：2 2 2
```
    function foo(){
        console.log(this.a)
    }

    var obj={
        a:2
    }

    var bar=function(){
        foo.call(obj)
    }

    bar();
    setTimeout(bar,100);
    bar.call(window);
```

### 答案：3 2
```
    function foo(){
        console.log(this.a)
    }

    var a=2;
    var o={a:3,foo:foo};
    var p={a:4};
    
    o.foo();
    (p.foo=o.foo)();
```

### 答案：2
```
    function foo(){
        return (a)=>{
            console.log(this.a)
        }
    }

    var obj1={
        a:2
    }

    var obj2={
        a:3
    }

    var bar=foo.call(obj1);
    bar.call(obj2)
```

## 数组相关

### 答案：3
```
    var myArray=['foo',42,'bar'];
    myArray.baz='baz';
    console.log(myArray.length);
```